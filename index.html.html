<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>C·∫£m ∆°n & V√≤ng quay may m·∫Øn</title>

<style>
body {
    margin: 0;
    min-height: 100vh;
    font-family: "Times New Roman", serif;
    background-image: url("tet1.jpg");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
}
.khung-chinh {
    width: 90%;
    max-width: 850px;
    margin: 30px auto;
    background: #fffaf0;
    border: 5px solid #c62828;
    padding: 25px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    text-align: center;
}
h1 {
    color: #b71c1c;
    margin-bottom: 10px;
}

h2 {
    color: #d84315;
    font-style: italic;
}
.khung-camon {
    border: 2px dashed #e65100;
    background: #fffde7;
    padding: 20px;
    margin: 20px 0 30px;
}

.khung-camon p {
    font-size: 20px;
    line-height: 1.6;
    color: #4e342e;
}
canvas {
    display: block;
    margin: 20px auto;
}

.khuvuc-quay {
    text-align: center;
    margin-top: 20px;
}
.nut-quay {
    padding: 16px 42px;
    font-size: 22px;
    font-weight: bold;
    color: #fff;
    background: linear-gradient(135deg, #ff9800, #d84315);
    border: none;
    border-radius: 40px;
    cursor: pointer;
    box-shadow: 0 6px 0 #b71c1c, 0 10px 20px rgba(0,0,0,0.3);
    transition: all 0.2s ease;
}

.nut-quay:hover {
    transform: translateY(-2px);
}

.nut-quay:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0 #b71c1c;
}
.ketqua {
    margin-top: 18px;
    font-size: 22px;
    font-weight: bold;
    color: #b71c1c;
}
.muiten {
    width: 0;
    height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-top: 30px solid #b71c1c;
    margin: 0 auto -10px;
}

</style>
</head>

<body>

<div class="khung-chinh">
    <h1>üå∏ L·ªúI C·∫¢M ∆†N üå∏</h1>
    <h2>Ch√¢n th√†nh & Tr√¢n tr·ªçng</h2>

    <div class="khung-camon">
        <p>
            Ch√∫ng em xin g·ª≠i l·ªùi c·∫£m ∆°n ch√¢n th√†nh ƒë·∫øn th·∫ßy c√¥ v√† c√°c b·∫°n
            ƒë√£ d√†nh th·ªùi gian theo d√µi v√† ·ªßng h·ªô s·∫£n ph·∫©m b√°o t∆∞·ªùng ng√†y T·∫øt n√†y.
        </p>
        <p>
            K√≠nh ch√∫c m·ªçi ng∆∞·ªùi m·ªôt nƒÉm m·ªõi <b>An khang ‚Äì Th·ªãnh v∆∞·ª£ng</b>,
            s·ª©c kh·ªèe d·ªìi d√†o v√† th·∫≠t nhi·ªÅu ni·ªÅm vui trong cu·ªôc s·ªëng.
        </p>
        <p>‚ú® C·∫£m ∆°n v√¨ ƒë√£ xem ‚ú®</p>
    </div>
    <h1>üéä V√íNG QUAY MAY M·∫ÆN üéä</h1>

 <div class="muiten"></div>
<canvas id="vongQuay" width="400" height="400"></canvas>
    <div class="khuvuc-quay">
        <button class="nut-quay" onclick="quay()">üçÄ QUAY MAY M·∫ÆN üçÄ</button>
        <p id="ketqua" class="ketqua"></p>
    </div>

</div>

<script>
const canvas = document.getElementById("vongQuay");
const ctx = canvas.getContext("2d");

const soO = 45;
const gocMoiO = 2 * Math.PI / soO;
let gocHienTai = 0;
let dangQuay = false;
function veNgoiSao(cx, cy, rNgoai, rTrong, canh) {
    let goc = Math.PI / canh;
    ctx.beginPath();
    for (let i = 0; i < canh * 2; i++) {
        let r = (i % 2 === 0) ? rNgoai : rTrong;
        let a = i * goc - Math.PI / 2;
        ctx.lineTo(cx + Math.cos(a) * r, cy + Math.sin(a) * r);
    }
    ctx.closePath();
}
function veVongQuay() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    const tam = canvas.width / 2;
    const banKinhNgoai = tam - 5;
    const banKinhTrong = 50;

    for (let i = 0; i < soO; i++) {
        const batDau = gocHienTai + i * gocMoiO;
        const ketThuc = batDau + gocMoiO;

        ctx.beginPath();
        ctx.arc(tam, tam, banKinhNgoai, batDau, ketThuc);
        ctx.arc(tam, tam, banKinhTrong, ketThuc, batDau, true);
        ctx.closePath();

        ctx.fillStyle = i % 2 === 0 ? "#ffe082" : "#ffcc80";
        ctx.fill();
        ctx.strokeStyle = "#c62828";
        ctx.stroke();

        ctx.save();
        ctx.translate(tam, tam);
        ctx.rotate(batDau + gocMoiO / 2);
        ctx.textAlign = "right";
        ctx.fillStyle = "#b71c1c";
        ctx.font = "12px Times New Roman";
        ctx.fillText(i + 1, banKinhNgoai - 10, 5);
        ctx.restore();
    }
    ctx.beginPath();
    ctx.arc(tam, tam, banKinhTrong, 0, 2 * Math.PI);
    ctx.fillStyle = "#c62828";
    ctx.fill();
    ctx.stroke();
    veNgoiSao(tam, tam, banKinhTrong - 10, banKinhTrong / 2, 5);
    ctx.fillStyle = "#ffd700";
    ctx.fill();
    ctx.stroke();
}
function quay() {
    if (dangQuay) return;
    dangQuay = true;
    document.getElementById("ketqua").innerText = "";

    let tocDo = Math.random() * 0.3 + 0.25;
    let giam = 0.995;

    function quayDan() {
        tocDo *= giam;
        gocHienTai += tocDo;
        veVongQuay();

        if (tocDo < 0.002) {
            dangQuay = false;
      let gocDung = (3 * Math.PI / 2 - gocHienTai) % (2 * Math.PI);
if (gocDung < 0) gocDung += 2 * Math.PI;
const ketQua = Math.floor(gocDung / gocMoiO) + 1;
            document.getElementById("ketqua").innerText =
                "üéâ K·∫æT QU·∫¢: S·ªê " + (ketQua <= soO ? ketQua : ketQua - soO);
            return;
        }
        requestAnimationFrame(quayDan);
    }
    quayDan();
}

veVongQuay();
</script>

</body>
</html>
